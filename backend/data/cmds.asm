call main 
hlt

; let the chaos begin

; function 
main:
; ---------------------------------------------
push 10
; ---------------------------------------------
; popping variable bebra
pop [0 + rax]
; ---------------------------------------------
push 5
; ---------------------------------------------
; popping variable bebra
pop [0 + rax]
; ---------------------------------------------
; switching namespace
push 1
push rax
add
call fak
; switching namespace
push 1
push rax
sub
; ---------------------------------------------
push 5
; ---------------------------------------------
; popping variable sosiska
pop [1 + rax]
; ---------------------------------------------
ret
; end of func

; ---------------------------------------------
; ---------------------------------------------
; ---------------------------------------------
; ---------------------------------------------
; ---------------------------------------------
; ---------------------------------------------
; ---------------------------------------------
; function 
fak:
; ---------------------------------------------
push 1
; ---------------------------------------------
; pushing variable schet
push [0 + rax]
; ---------------------------------------------
sub
; ---------------------------------------------
; popping variable schet
pop [0 + rax]
; ---------------------------------------------
push 1
; ---------------------------------------------
; popping variable suchka
pop [1 + rax]
; ---------------------------------------------
push 1
; ---------------------------------------------
; popping variable iaseksi
pop [2 + rax]
; ---------------------------------------------
ret
; end of func

; ---------------------------------------------
; ---------------------------------------------
; ---------------------------------------------
; ---------------------------------------------
; ---------------------------------------------
; ---------------------------------------------
; ---------------------------------------------
; ---------------------------------------------
